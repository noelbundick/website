<!doctype html><html lang=en-us><head><title>Azure Container Instances as SOCKS proxy | Noel Bundick</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,minimum-scale=1"><meta name=description content="Azure Container Instances as SOCKS proxy ğŸ”—Sometimes it&rsquo;s useful to originate traffic from a specific region - etc to test global load balancers, DNS, etc. A common way to do this is to SSH to some remote VPN service or VM, then forward your traffic through that remote endpoint.
 You can also use this to watch Netflix outside of your current country while traveling abroad :P
 Azure Container Instances are a quick & easy way to do this as well - launch the ssh daemon in a container, expose port 22, and start forwarding traffic!"><meta name=generator content="Hugo 0.99.1"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/custom.css><link rel=stylesheet href=/fontawesome/css/fontawesome.min.css><link rel=stylesheet href=/fontawesome/css/brands.min.css><link rel="shortcut icon" href=/images/favicon.ico type=image/x-icon></head><body><nav class=navigation><a href=/><span class=arrow>â†</span>Home</a>
<a href=/posts>Archive</a>
<a href=/tags>Tags</a></nav><main class=main><section id=single><h1 class=title>Azure Container Instances as SOCKS proxy</h1><div class=tip><time datetime="2018-11-30 00:00:00 +0000 UTC">Nov 30, 2018</time>
<span class=split>Â·</span>
<span>180 words</span>
<span class=split>Â·</span>
<span>1 minute read</span><div><a href=https://gist.github.com/be9bf7bcaa6c6bcee4b65da841c620a3>view gist on GitHub</a></div></div><aside class=toc><details><summary>Table of Contents</summary><div><nav id=TableOfContents><ul><li><a href=#how-to-use>How to use</a></li><li><a href=#why-this-is-a-gist>Why this is a gist</a></li><li><a href=#extra-credit>Extra credit</a></li></ul></nav></div></details></aside><div class=content><h1 id=azure-container-instances-as-socks-proxy>Azure Container Instances as SOCKS proxy <a href=#azure-container-instances-as-socks-proxy class=anchor>ğŸ”—</a></h1><p>Sometimes it&rsquo;s useful to originate traffic from a specific region - etc to test global load balancers, DNS, etc. A common way to do this is to SSH to some remote VPN service or VM, then forward your traffic through that remote endpoint.</p><blockquote><p>You can also use this to watch Netflix outside of your current country while traveling abroad :P</p></blockquote><p>Azure Container Instances are a quick & easy way to do this as well - launch the ssh daemon in a container, expose port 22, and start forwarding traffic!</p><blockquote><p>Check out the regions you can forward traffic on the <a href="https://azure.microsoft.com/en-us/global-infrastructure/services/?products=container-instances" target=_blank rel=noopener>Products available by region</a> page</p></blockquote><h2 id=how-to-use>How to use <a href=#how-to-use class=anchor>ğŸ”—</a></h2><p>Follow the steps in <code>proxy.sh</code></p><h2 id=why-this-is-a-gist>Why this is a gist <a href=#why-this-is-a-gist class=anchor>ğŸ”—</a></h2><p>I&rsquo;ve not changed the default <code>root:root</code> password, and I&rsquo;m exposing port 22. Please secure your ssh daemon and don&rsquo;t use this as-is in a production environment</p><h2 id=extra-credit>Extra credit <a href=#extra-credit class=anchor>ğŸ”—</a></h2><p>You probably don&rsquo;t want to leave your proxy container running in case you forget. Use my <a href=https://github.com/noelbundick/azure-cli-extension-noelbundick/blob/master/docs/self-destruct.md target=_blank rel=noopener>self-destruct</a> CLI extension to have it automatically clean itself up after N hours!</p><h3>proxy.sh</h3><script src="https://gist.github.com/be9bf7bcaa6c6bcee4b65da841c620a3.js?file=proxy.sh"></script></div><div class=tags><a href=/tags/gist>gist</a></div></section></main><section><ul class=post-list><li>2021-10-14
<a href=/gists/optimizing-rust-container-builds/>Optimizing Rust container builds<h2></h2></a></li><li>2021-09-19
<a href=/gists/wsl2-container-development-with-moby/>WSL2 container development with Moby<h2></h2></a></li><li>2019-12-17
<a href=/gists/rdp-from-wsl/>RDP from WSL<h2></h2></a></li><li>2019-06-28
<a href=/gists/how-to-use-docker-build-secrets/>How to use Docker build secrets<h2></h2></a></li><li>2019-06-12
<a href=/gists/consuming-packages-from-a-private-azure-pipelines-python-artifact-feed/>Consuming packages from a private Azure Pipelines Python artifact feed<h2></h2></a></li><li>2019-01-13
<a href=/gists/gists-as-a-content-management-system/>Gists as a content management system<h2></h2></a></li><li>2019-01-12
<a href=/gists/azure-function-w--user-assigned-identity/>Azure Function w/ User Assigned Identity<h2></h2></a></li><li>2018-12-15
<a href=/gists/secure-code-execution-via-arm-template-and-azure-container-instances/>Secure code execution via ARM template and Azure Container Instances<h2></h2></a></li><li>2018-12-10
<a href=/gists/azure-redis-cli/>azure-redis-cli<h2></h2></a></li><li>2018-12-10
<a href=/gists/resize-azure-cloud-shell-storage/>Resize Azure Cloud Shell storage<h2></h2></a></li></ul></section><footer id=footer><div id=social><a class=symbol href=https://www.github.com/noelbundick><i class="fa-brands fa-github"></i></a>
<a class=symbol href=https://www.linkedin.com/in/noelbundick/><i class="fa-brands fa-linkedin"></i></a>
<a class=symbol href=https://twitter.com/acanthamoeba><i class="fa-brands fa-twitter"></i></a></div><div class=copyright>Â© Copyright
2022
<span class=split><svg fill="#bbb" width="15" height="15" id="heart-15" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15"><path d="M13.91 6.75c-1.17 2.25-4.3 5.31-6.07 6.94-.1903.1718-.4797.1718-.67.0C5.39 12.06 2.26 9 1.09 6.75-1.48 1.8 5-1.5 7.5 3.45 10-1.5 16.48 1.8 13.91 6.75z"/></svg></span>Noel Bundick</div></footer></body></html>